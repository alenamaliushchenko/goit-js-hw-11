{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["import iziToast from \"izitoast\";\n\nexport async function fetchImages(query){\n    const apiKEY = '44883065-b38075931b52680ca8f625c61';\n    const url = `https://pixabay.com/api/?key=${apiKEY}&q=${encodeURIComponent(query)}&image_type=photo&orientation=horizontal&safesearch=true`;\n    return fetch(url)\n        .then(response => {\n            if(!response.ok) {\n                throw new Error(response.status);\n            }\n            return response.json();\n        })\n        .then(data => {\n            return data;\n        })\n        .catch(error => {\n            console.log('Error:', error);\n            iziToast.error({\n                title: 'Error',\n                message: 'Sorry, there are no images matching your search query. Please try again!',\n            });\n            throw error;\n        });\n}","import SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nfunction createImageCard ({webformatURL, largeImageURL, tags, likes, views, comments, downloads}) {\n    return `\n        <div class=\"photo-card\">\n            <a href=\"${largeImageURL}\">\n                <img src=\"${webformatURL}\" alt=\"${largeImageURL}\"  loading=\"lazy\" />\n            </a>\n            <div class=\"info\">\n                <p class=\"info-item\">\n                    <b>Likes:</b><span class=\"info-item-value\">${likes}</span>\n                </p>\n                <p class=\"info-item\">\n                    <b>Views:</b><span class=\"info-item-value\">${views}</span>\n                </p>\n                <p class=\"info-item\">\n                    <b>Comments:</b><span class=\"info-item-value\">${comments}</span>\n                </p>\n                <p class=\"info-item\"> \n                    <b>Downloads:</b><span class=\"info-item-value\">${downloads}</span>\n                </p>\n            </div>\n        </div>`;\n}\nfunction clearGallery (galleryElement){\n    galleryElement.innerHTML = '';\n}\nfunction renderGallery(galleryElement, images) {\n    const markup = images.map(createImageCard).join('');\n    galleryElement.insertAdjacentHTML('beforeend', markup);\n    const lightbox = new SimpleLightbox('.gallery a');\n    lightbox.refresh();\n}\n\nexport{clearGallery, renderGallery, createImageCard};","import { fetchImages } from \"./js/pixabay-api\";\nimport { renderGallery, clearGallery } from \"./js/render-functions\";\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\ndocument.getElementById('searchForm').addEventListener(\"submit\", function(event) {\n    event.preventDefault();\n    const query = document.getElementById('searchInput').value.trim();\n\n    const gallery = document.getElementById('gallery');\n    clearGallery(gallery);\n    const loaderContainer = document.querySelector('.loader-container');\n    const loader = document.querySelector('.loader');\n    const loadingMessage = document.querySelector('.loading-message');\n\n    function showLoader() {\n        loader.classList.add('is-active');\n        loadingMessage.classList.add('is-active');\n        loaderContainer.style.display = 'block';\n    }\n    function hideLoader() {\n        loader.classList.remove('is-active');\n        loadingMessage.classList.remove('is-active');\n        loaderContainer.style.display = 'none';\n    }\n    showLoader();\n    fetchImages(query) \n        .then(data => {\n            hideLoader();\n            if(data.hits.length > 0) {\n                renderGallery(gallery, data.hits);\n            } else {\n                iziToast.error({\n                title: 'Error',\n                message: 'Sorry, there are no images matching your search query. Please try again!',\n                });\n            }\n        })\n        .catch(error => {\n            console.log('Error:', error);\n            iziToast.error({\n                title: 'Error',\n                message: 'Sorry, there are no images matching your search query. Please try again!',\n            });\n            hideLoader();\n        });\n});\n"],"names":["fetchImages","query","url","response","data","error","iziToast","createImageCard","webformatURL","largeImageURL","tags","likes","views","comments","downloads","clearGallery","galleryElement","renderGallery","images","markup","SimpleLightbox","event","gallery","loaderContainer","loader","loadingMessage","showLoader","hideLoader"],"mappings":"6vBAEO,eAAeA,EAAYC,EAAM,CAEpC,MAAMC,EAAM,qEAA4C,mBAAmBD,CAAK,CAAC,2DACjF,OAAO,MAAMC,CAAG,EACX,KAAKC,GAAY,CACd,GAAG,CAACA,EAAS,GACT,MAAM,IAAI,MAAMA,EAAS,MAAM,EAEnC,OAAOA,EAAS,MAC5B,CAAS,EACA,KAAKC,GACKA,CACV,EACA,MAAMC,GAAS,CACZ,cAAQ,IAAI,SAAUA,CAAK,EAC3BC,EAAS,MAAM,CACX,MAAO,QACP,QAAS,0EACzB,CAAa,EACKD,CAClB,CAAS,CACT,CCpBA,SAASE,EAAiB,CAAC,aAAAC,EAAc,cAAAC,EAAe,KAAAC,EAAM,MAAAC,EAAO,MAAAC,EAAO,SAAAC,EAAU,UAAAC,CAAS,EAAG,CAC9F,MAAO;AAAA;AAAA,uBAEYL,CAAa;AAAA,4BACRD,CAAY,UAAUC,CAAa;AAAA;AAAA;AAAA;AAAA,iEAIEE,CAAK;AAAA;AAAA;AAAA,iEAGLC,CAAK;AAAA;AAAA;AAAA,oEAGFC,CAAQ;AAAA;AAAA;AAAA,qEAGPC,CAAS;AAAA;AAAA;AAAA,eAI9E,CACA,SAASC,EAAcC,EAAe,CAClCA,EAAe,UAAY,EAC/B,CACA,SAASC,EAAcD,EAAgBE,EAAQ,CAC3C,MAAMC,EAASD,EAAO,IAAIX,CAAe,EAAE,KAAK,EAAE,EAClDS,EAAe,mBAAmB,YAAaG,CAAM,EACpC,IAAIC,EAAe,YAAY,EACvC,QAAO,CACpB,CC5BA,SAAS,eAAe,YAAY,EAAE,iBAAiB,SAAU,SAASC,EAAO,CAC7EA,EAAM,eAAc,EACpB,MAAMpB,EAAQ,SAAS,eAAe,aAAa,EAAE,MAAM,OAErDqB,EAAU,SAAS,eAAe,SAAS,EACjDP,EAAaO,CAAO,EACpB,MAAMC,EAAkB,SAAS,cAAc,mBAAmB,EAC5DC,EAAS,SAAS,cAAc,SAAS,EACzCC,EAAiB,SAAS,cAAc,kBAAkB,EAEhE,SAASC,GAAa,CAClBF,EAAO,UAAU,IAAI,WAAW,EAChCC,EAAe,UAAU,IAAI,WAAW,EACxCF,EAAgB,MAAM,QAAU,OACnC,CACD,SAASI,GAAa,CAClBH,EAAO,UAAU,OAAO,WAAW,EACnCC,EAAe,UAAU,OAAO,WAAW,EAC3CF,EAAgB,MAAM,QAAU,MACnC,CACDG,IACA1B,EAAYC,CAAK,EACZ,KAAKG,GAAQ,CACVuB,IACGvB,EAAK,KAAK,OAAS,EAClBa,EAAcK,EAASlB,EAAK,IAAI,EAEhCE,EAAS,MAAM,CACf,MAAO,QACP,QAAS,0EACzB,CAAiB,CAEjB,CAAS,EACA,MAAMD,GAAS,CACZ,QAAQ,IAAI,SAAUA,CAAK,EAC3BC,EAAS,MAAM,CACX,MAAO,QACP,QAAS,0EACzB,CAAa,EACDqB,GACZ,CAAS,CACT,CAAC"}